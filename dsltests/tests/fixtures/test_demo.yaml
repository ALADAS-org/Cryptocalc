# Test simple pour démonstration
name: "Quick Demo Test"
description: "Test rapide pour démontrer les capacités du DSL"

tests:
  - name: "Generate a simple wallet"
    steps:
      - action: generateEntropy
        params:
          size: 256
        assign: entropy
        
      - action: generateWallet
        params:
          type: HD_WALLET
          entropy: $entropy
          blockchain: BTC
        assign: wallet
        
    assertions:
      - property: $entropy
        isDefined: true
      - property: $wallet.address
        isDefined: true
      - property: $wallet.privateKey
        hasLength: 64

  - name: "Encrypt with BIP38"
    steps:
      - action: generateEntropy
        params:
          size: 128
        assign: small_entropy
        
      - action: generateWallet
        params:
          type: SIMPLE_WALLET
          entropy: $small_entropy
          blockchain: BTC
        assign: simple_wallet
        
      - action: encrypt
        params:
          privateKey: $simple_wallet.privateKey
          passphrase: "TestPassword123"
        assign: encrypted
        
    assertions:
      - property: $encrypted
        matches: "^6PR"

  - name: "Multi-chain comparison"
    steps:
      - action: generateEntropy
        params:
          size: 256
        assign: multi_entropy
        
      - action: generateWallet
        params:
          type: HD_WALLET
          entropy: $multi_entropy
          blockchain: BTC
        assign: btc
        
      - action: generateWallet
        params:
          type: HD_WALLET
          entropy: $multi_entropy
          blockchain: ETH
        assign: eth
        
    assertions:
      - property: $btc.entropy
        equals: $eth.entropy
      - property: $btc.address
        notEquals: $eth.address
